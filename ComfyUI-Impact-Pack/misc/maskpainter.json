{
  "last_node_id": 40,
  "last_link_id": 126,
  "nodes": [
    {
      "id": 38,
      "type": "CLIPTextEncode",
      "pos": [
        296.87999910354637,
        470.43994018554685
      ],
      "size": [
        310.2266245367921,
        119.74945866398821
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 103
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            104
          ],
          "slot_index": 0
        }
      ],
      "title": "Inpaint (Positive)",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "1girl, cropped, jean skirt"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 20,
      "type": "CLIPTextEncode",
      "pos": [
        300.87999910354637,
        56.43994018554691
      ],
      "size": [
        316.0668257715445,
        154.45109583255095
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 24
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            73
          ],
          "slot_index": 0
        }
      ],
      "title": "Positive",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "photorealistic:1.4, masterpiece, ((best quality, high_resolution, distinct_image)), ultra detailed, disheveled hair, 1girl, (green long hair:1.3), yellow eyes, sunglasses on head, (small breasts:1.2), (miniskirt), (yellow t-shirt), black long coat), Star earrings, night, city background, perfect anatomy"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 35,
      "type": "SaveImage",
      "pos": [
        850.8799991035456,
        56.43994018554691
      ],
      "size": [
        218.98424258069917,
        347.54985128179237
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 60
        }
      ],
      "title": "Original",
      "properties": {},
      "widgets_values": [
        "original"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 19,
      "type": "CLIPTextEncode",
      "pos": [
        299.87999910354637,
        262.43994018554685
      ],
      "size": [
        316.2931386108992,
        142.7274927502973
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 25
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            26,
            74
          ],
          "slot_index": 0
        }
      ],
      "title": "Negative",
      "properties": {
        "Node name for S&R": "CLIPTextEncode"
      },
      "widgets_values": [
        "(nsfw), (worst quality, low quality:1.3), (depth of field, blurry:1.2), (greyscale, monochrome:1.1), 3D face, nose, cropped, lowres, text, jpeg artifacts, signature, watermark, username, blurry, artist name, trademark, watermark, title, (tan, muscular, loli, petite, child, infant, toddlers, chibi, sd character:1.1), multiple view, Reference sheet, nipple"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 4,
      "type": "VAEEncodeForInpaint",
      "pos": [
        1083.879999103546,
        219.43994018554685
      ],
      "size": {
        "0": 226.8000030517578,
        "1": 66
      },
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 108
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 47
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 62
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            111
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncodeForInpaint"
      },
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 7,
      "type": "PreviewImage",
      "pos": [
        1323.879999103546,
        187.43994018554685
      ],
      "size": [
        140,
        215.94338580383703
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 110
        }
      ],
      "title": "Masked",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 16,
      "type": "Segs & Mask",
      "pos": [
        1621.8799991035464,
        241.43994018554687
      ],
      "size": {
        "0": 226.6055908203125,
        "1": 46
      },
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "segs",
          "type": "SEGS",
          "link": 101
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 100
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            77,
            123
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "Segs & Mask"
      },
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 10,
      "type": "SAMLoader",
      "pos": [
        37.879999103546176,
        54.439940185546895
      ],
      "size": [
        239,
        62
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {
          "name": "SAM_MODEL",
          "type": "SAM_MODEL",
          "links": [
            10
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMLoader"
      },
      "widgets_values": [
        "sam_vit_b_01ec64.pth"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 33,
      "type": "EmptyLatentImage",
      "pos": [
        35.87999910354617,
        297.43994018554673
      ],
      "size": [
        248,
        106
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            72
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "EmptyLatentImage"
      },
      "widgets_values": [
        704,
        1024,
        1
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 18,
      "type": "CheckpointLoaderSimple",
      "pos": [
        34.87999910354617,
        153.43994018554685
      ],
      "size": {
        "0": 248,
        "1": 98
      },
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            22,
            75
          ],
          "slot_index": 0
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            24,
            25,
            103
          ],
          "slot_index": 1
        },
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            45,
            47,
            48,
            49,
            59,
            102
          ],
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "V07_v07.safetensors"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 6,
      "type": "VAEDecode",
      "pos": [
        1086,
        357
      ],
      "size": {
        "0": 228,
        "1": 46
      },
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 111
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 48
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            110
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 34,
      "type": "VAEDecode",
      "pos": [
        631,
        56
      ],
      "size": {
        "0": 210,
        "1": 46
      },
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 76
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 59
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            60,
            64,
            105
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 37,
      "type": "KSampler",
      "pos": [
        630,
        142
      ],
      "size": [
        210,
        262
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 75
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 73
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 74
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 72
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            76
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        690630353676394,
        "fixed",
        20,
        8,
        "euler",
        "karras",
        1
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 30,
      "type": "VAEDecode",
      "pos": [
        1622.856268763194,
        503.96589322474875
      ],
      "size": {
        "0": 227.90530395507812,
        "1": 46
      },
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 119
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 102
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            121
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEDecode"
      },
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 23,
      "type": "SaveImage",
      "pos": [
        849,
        471
      ],
      "size": {
        "0": 289,
        "1": 415
      },
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 28
        }
      ],
      "title": "Result",
      "properties": {},
      "widgets_values": [
        "Result"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 25,
      "type": "PreviewImage",
      "pos": [
        1473.8799991035464,
        187.43994018554685
      ],
      "size": [
        140,
        215.40391144914486
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 121
        }
      ],
      "title": "Refined Masked",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 27,
      "type": "VAEEncodeForInpaint",
      "pos": [
        1623,
        402
      ],
      "size": {
        "0": 226.8000030517578,
        "1": 66
      },
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 122
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 45
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 120
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            119
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "VAEEncodeForInpaint"
      },
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 28,
      "type": "SegsMaskCombine",
      "pos": [
        1623.856268763194,
        321.96589322474875
      ],
      "size": {
        "0": 225.70559692382812,
        "1": 46
      },
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "segs",
          "type": "SEGS",
          "link": 123
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 112
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            120
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SegsMaskCombine"
      },
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 40,
      "type": "Reroute",
      "pos": [
        987,
        -6
      ],
      "size": [
        82,
        26
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 126
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            107,
            108,
            112,
            122,
            124
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": true,
        "horizontal": false
      }
    },
    {
      "id": 39,
      "type": "Reroute",
      "pos": [
        853,
        -6
      ],
      "size": [
        82,
        26
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 105
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            126
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "showOutputText": true,
        "horizontal": false
      }
    },
    {
      "id": 13,
      "type": "MaskToSEGS",
      "pos": [
        1325,
        54
      ],
      "size": [
        289.19432375939186,
        87.74590362440813
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 71
        }
      ],
      "outputs": [
        {
          "name": "SEGS",
          "type": "SEGS",
          "links": [
            101,
            125
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskToSEGS"
      },
      "widgets_values": [
        "True",
        2
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 9,
      "type": "SAMDetectorCombined",
      "pos": [
        1622.856268763194,
        51.96589322474882
      ],
      "size": {
        "0": 225.6055908203125,
        "1": 150.59918212890625
      },
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "sam_model",
          "type": "SAM_MODEL",
          "link": 10
        },
        {
          "name": "segs",
          "type": "SEGS",
          "link": 125
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 124
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            100
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "SAMDetectorCombined"
      },
      "widgets_values": [
        "none",
        0.93,
        0.96
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 36,
      "type": "MaskPainter",
      "pos": [
        1081,
        55
      ],
      "size": [
        227.1449788475237,
        102
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 107
        },
        {
          "name": "mask_image",
          "type": "IMAGE_PATH",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            62,
            71
          ],
          "slot_index": 0
        }
      ],
      "properties": {
        "Node name for S&R": "MaskPainter"
      },
      "widgets_values": [
        null,
        {
          "filename": "impact-mask-4073711.2.png",
          "subfolder": "",
          "type": "temp"
        }
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 17,
      "type": "DetailerForEachDebug",
      "pos": [
        633,
        472
      ],
      "size": [
        210,
        418
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 64
        },
        {
          "name": "segs",
          "type": "SEGS",
          "link": 77
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 22
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 49
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 104
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 26
        },
        {
          "name": "external_seed",
          "type": "SEED",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            28
          ],
          "slot_index": 0
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            29
          ],
          "slot_index": 1
        },
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            30
          ],
          "slot_index": 2
        }
      ],
      "properties": {
        "Node name for S&R": "DetailerForEachDebug"
      },
      "widgets_values": [
        384,
        "bbox",
        111413969982424,
        "fixed",
        20,
        10,
        "euler",
        "karras",
        0.61,
        3,
        "enabled"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 21,
      "type": "PreviewImage",
      "pos": [
        1159,
        472
      ],
      "size": {
        "0": 166.99998474121094,
        "1": 174.00001525878906
      },
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 29
        }
      ],
      "title": "Cropped",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 22,
      "type": "PreviewImage",
      "pos": [
        1159,
        689
      ],
      "size": [
        169.68491607920532,
        193.83173008736003
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 30
        }
      ],
      "title": "Refined Crop",
      "properties": {
        "Node name for S&R": "PreviewImage"
      },
      "color": "#223",
      "bgcolor": "#335"
    }
  ],
  "links": [
    [
      10,
      10,
      0,
      9,
      0,
      "SAM_MODEL"
    ],
    [
      22,
      18,
      0,
      17,
      2,
      "MODEL"
    ],
    [
      24,
      18,
      1,
      20,
      0,
      "CLIP"
    ],
    [
      25,
      18,
      1,
      19,
      0,
      "CLIP"
    ],
    [
      26,
      19,
      0,
      17,
      5,
      "CONDITIONING"
    ],
    [
      28,
      17,
      0,
      23,
      0,
      "IMAGE"
    ],
    [
      29,
      17,
      1,
      21,
      0,
      "IMAGE"
    ],
    [
      30,
      17,
      2,
      22,
      0,
      "IMAGE"
    ],
    [
      45,
      18,
      2,
      27,
      1,
      "VAE"
    ],
    [
      47,
      18,
      2,
      4,
      1,
      "VAE"
    ],
    [
      48,
      18,
      2,
      6,
      1,
      "VAE"
    ],
    [
      49,
      18,
      2,
      17,
      3,
      "VAE"
    ],
    [
      59,
      18,
      2,
      34,
      1,
      "VAE"
    ],
    [
      60,
      34,
      0,
      35,
      0,
      "IMAGE"
    ],
    [
      62,
      36,
      0,
      4,
      2,
      "MASK"
    ],
    [
      64,
      34,
      0,
      17,
      0,
      "IMAGE"
    ],
    [
      71,
      36,
      0,
      13,
      0,
      "MASK"
    ],
    [
      72,
      33,
      0,
      37,
      3,
      "LATENT"
    ],
    [
      73,
      20,
      0,
      37,
      1,
      "CONDITIONING"
    ],
    [
      74,
      19,
      0,
      37,
      2,
      "CONDITIONING"
    ],
    [
      75,
      18,
      0,
      37,
      0,
      "MODEL"
    ],
    [
      76,
      37,
      0,
      34,
      0,
      "LATENT"
    ],
    [
      77,
      16,
      0,
      17,
      1,
      "SEGS"
    ],
    [
      100,
      9,
      0,
      16,
      1,
      "MASK"
    ],
    [
      101,
      13,
      0,
      16,
      0,
      "SEGS"
    ],
    [
      102,
      18,
      2,
      30,
      1,
      "VAE"
    ],
    [
      103,
      18,
      1,
      38,
      0,
      "CLIP"
    ],
    [
      104,
      38,
      0,
      17,
      4,
      "CONDITIONING"
    ],
    [
      105,
      34,
      0,
      39,
      0,
      "*"
    ],
    [
      107,
      40,
      0,
      36,
      0,
      "IMAGE"
    ],
    [
      108,
      40,
      0,
      4,
      0,
      "IMAGE"
    ],
    [
      110,
      6,
      0,
      7,
      0,
      "IMAGE"
    ],
    [
      111,
      4,
      0,
      6,
      0,
      "LATENT"
    ],
    [
      112,
      40,
      0,
      28,
      1,
      "IMAGE"
    ],
    [
      119,
      27,
      0,
      30,
      0,
      "LATENT"
    ],
    [
      120,
      28,
      0,
      27,
      2,
      "MASK"
    ],
    [
      121,
      30,
      0,
      25,
      0,
      "IMAGE"
    ],
    [
      122,
      40,
      0,
      27,
      0,
      "IMAGE"
    ],
    [
      123,
      16,
      0,
      28,
      0,
      "SEGS"
    ],
    [
      124,
      40,
      0,
      9,
      2,
      "IMAGE"
    ],
    [
      125,
      13,
      0,
      9,
      1,
      "SEGS"
    ],
    [
      126,
      39,
      0,
      40,
      0,
      "*"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {},
  "version": 0.4
}